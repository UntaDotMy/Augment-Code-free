<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free AugmentCode</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <h1>🐱 Free AugmentCode</h1>
                    <p class="subtitle">清理 AugmentCode 相关数据的现代化工具</p>
                </div>
                <div class="header-right">
                    <div class="status-indicator">
                        <span class="status-label">状态:</span>
                        <span class="status-value" id="apiStatus">检查中...</span>
                    </div>
                    <div class="editor-selector">
                        <span class="editor-label">🎯 编辑器:</span>
                        <select class="editor-select" id="editorSelect" onchange="changeEditor()">
                            <option value="VSCodium">🔷 VSCodium</option>
                            <option value="Code">💙 VS Code</option>
                        </select>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel - System Info -->
            <div class="left-panel">
                <div class="panel-card">
                    <div class="panel-header">
                        <h2>📁 系统信息</h2>
                        <button class="refresh-btn" onclick="loadSystemInfo()" title="刷新信息">
                            🔄
                        </button>
                    </div>
                    <div class="system-info-grid" id="systemInfo">
                        <div class="loading">正在加载系统信息...</div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Operations -->
            <div class="right-panel">
                <div class="panel-card">
                    <div class="panel-header">
                        <h2>🛠️ 清理操作</h2>
                    </div>
                    <div class="operations-container">
                        <!-- Individual Operations -->
                        <div class="operations-row">
                            <div class="operation-item">
                                <div class="operation-icon">🔑</div>
                                <div class="operation-content">
                                    <h3>修改 Telemetry ID</h3>
                                    <p>重置设备 ID 和机器 ID，生成新的随机标识符</p>
                                </div>
                                <button class="operation-btn btn-primary" onclick="modifyTelemetry()" id="telemetryBtn">
                                    执行
                                </button>
                            </div>

                            <div class="operation-item">
                                <div class="operation-icon">🗃️</div>
                                <div class="operation-content">
                                    <h3>清理数据库</h3>
                                    <p>清理 SQLite 数据库中包含 'augment' 的记录</p>
                                </div>
                                <button class="operation-btn btn-primary" onclick="cleanDatabase()" id="databaseBtn">
                                    执行
                                </button>
                            </div>

                            <div class="operation-item">
                                <div class="operation-icon">💾</div>
                                <div class="operation-content">
                                    <h3>清理工作区</h3>
                                    <p>清理工作区存储文件和目录</p>
                                </div>
                                <button class="operation-btn btn-primary" onclick="cleanWorkspace()" id="workspaceBtn">
                                    执行
                                </button>
                            </div>
                        </div>

                        <!-- Quick Action -->
                        <div class="quick-action">
                            <div class="quick-action-content">
                                <div class="quick-action-icon">🚀</div>
                                <div class="quick-action-text">
                                    <h3>一键清理</h3>
                                    <p>执行所有清理操作（推荐）</p>
                                </div>
                            </div>
                            <button class="quick-action-btn" onclick="runAllOperations()" id="allBtn">
                                立即执行
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Results Panel -->
        <div class="results-panel" id="resultsPanel" style="display: none;">
            <div class="panel-card">
                <div class="panel-header">
                    <h2>📊 操作结果</h2>
                    <button class="close-btn" onclick="document.getElementById('resultsPanel').style.display='none'">
                        ✕
                    </button>
                </div>
                <div class="results-content" id="resultsContent">
                    <!-- Results will be displayed here -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-warning">
                    <span>⚠️</span>
                    <p>使用前请确保已退出 VS Code 和 AugmentCode 插件</p>
                </div>
                <div class="footer-tip">
                    <span>💡</span>
                    <p>操作完成后重启 VS Code 并使用新邮箱登录 AugmentCode</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p id="loadingText">正在处理...</p>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
